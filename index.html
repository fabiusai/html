<style>
  .editor-container {
    display: flex;
    border: 1px solid #ccc;
    border-radius: 6px;
    overflow: hidden;
    background: #fff;
    height: 300px;
  }
  .line-numbers {
    background: #f1f1f1;
    color: #666;
    padding: 8px 6px;
    text-align: right;
    user-select: none;
    font-family: monospace;
    font-size: 14px;
    line-height: 20px;
    border-right: 1px solid #ccc;
    overflow: hidden;
    white-space: pre;      /* <--- forza ogni numero su una nuova riga */
  }
  .editor {
    flex: 1;
    padding: 8px;
    font-family: monospace;
    font-size: 14px;
    line-height: 20px;
    border: none;
    outline: none;
    resize: none;
    overflow: auto;
    white-space: pre;
  }
</style>

<script>
  const editor = document.getElementById('editor');
  const lineNumbers = document.getElementById('lineNumbers');

  function updateLineNumbers() {
    const lines = editor.value.split('\n').length;
    let nums = '';
    for (let i = 1; i <= lines; i++) {
      nums += (i < 10 ? '0' + i : i) + '\n';   // ogni numero va a capo
    }
    lineNumbers.textContent = nums;
    lineNumbers.scrollTop = editor.scrollTop;   // sincronizza lo scroll
  }

  editor.addEventListener('input', updateLineNumbers);
  editor.addEventListener('scroll', () => {
    lineNumbers.scrollTop = editor.scrollTop;
  });

  updateLineNumbers();
</script>
